<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<title></title>
	<link rel="stylesheet" type="text/css" href="./css/register.css">
	<style>

	</style>
</head>

<body>
	<div class="main">
		<div class="register_container">
			<div class="register_card">
				<h1>欢迎注册古诗文网！</h1>
				<div class="register_form">
					<p>
						<label>用户名：</label>
						<input type="" name="" id="userName">
						<span class="waring">用户名不能为空</span>
					</p>
					<p>
						<label>密码：</label>
						<input type="" name="" id="pwd" placeholder="由英文字母和数字组成的4-10位">
						<span class="waring">密码格式输入错误，请重新输入！</span>
					</p>
					<p>
						<label>手机号：</label>
						<input type="" name="" id="phone">
						<span class="waring">手机号码输入错误！</span>
					</p>
					<p class="toLogin">已有账号？<a href="./login.html">登录</a></p>
					<span class="btn">注册</span>
					<div id="xieyi">
						<input type="checkbox" name="复选框" value="1" placeholder="">
						<span>同意<a href="#">《古诗文邮箱账户服务条款》</a>和<a href="#">《古诗文隐私政策》</a></span><br>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
<script src="./js/jquery-3.6.0.js"></script>
<script>
	$('document').ready(function () {
		console.log($("#userName+.waring"));

		// 点击注册按钮时进行数据有效性验证
		$(".btn").submit(function () {
			if (!checkUserName())
				return false;
			if (!checkPwd())
				return false;
			if (!checkPhone())
				return false;
			return true;
		});

		// 输入框失去焦点时，进行数据有效性验证
		$('#userName').blur(function () {
			checkUserName();
		});

		$('#pwd').blur(function () {
			checkPwd();
		});

		$('#phone').blur(function () {
			checkPhone();
		});

		// 验证方法
		function checkUserName() {
			var userName = $('#userName').val();
			if (userName == "" || userName == null) {
				$('#userName+.waring').css("visibility","visible");
				return false;
			}
			$('#userName+.waring').css("visibility","hidden");
			return true;
		}
		$('.divwaring').show();

		function checkPwd() {
			var pwd = $('#pwd').val();
			var reg = /^[a-zA-Z0-9]{3,9}$/;
			if (!(reg.test(pwd))) {
				$('#pwd+.waring').css("visibility","visible");
				return false;
			}
			$('#pwd+.waring').css("visibility","hidden");
			return true;
		}

		function checkPhone() {
			var mob = $('#phone').val();
			var reg = /^1(3[0-9]|5[0-3,5-9]|7[1-3,5-8]|8[0-9])\d{8}$/;
			if (!reg.test(mob)) {
				$('#phone+.waring').css("visibility","visible");
				return false;
			}
			$('#phone+.waring').css("visibility","hidden");
			return true;
		}

	});

</script>

</html>